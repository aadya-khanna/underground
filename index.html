<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <title> PetIt </title>
</head>
<body>
    <div id="hero"> 
        <h1 id="simpleUsage"> </h1>
    </div>

    <div id="pet-options">
        <span onclick="selectPet('bob')">bob</span> |
        <span onclick="selectPet('simmer')">simmer</span> |
        <span onclick="selectPet('steve')">steve</span>
    </div>
    
    <div id="pet-container">
        <div id="img">
            <div id="petSpeech" class="speech-bubble"></div>
            <img id="mainimg" style="display: none;" />
        </div>
      </div>

    <script> 
        let typeItInstance;
        let hasTypedHi = false;
        let salutations = ["Hi!", "Hello!", "AHOJJJ!", "Bonjour,", "Hola,", "Hey,", "Sup!!"]; 

        function startTypewriter(pet) 
        {
            const name = pet.charAt(0).toUpperCase() + pet.slice(1);
            const target = document.getElementById("simpleUsage");

            const randomSalutation = salutations[Math.floor(Math.random() * salutations.length)];

            if (typeItInstance) {
                typeItInstance.destroy();
            }

            if (!hasTypedHi) {
                typeItInstance = new TypeIt("#simpleUsage", {
                speed: 100,
                lifeLike: true,
                waitUntilVisible: true
                })
                .type("Hi!")  
                .pause(300)
                .go();

                hasTypedHi = true;
            } else {
                target.textContent = randomSalutation;
                typeItInstance = new TypeIt("#simpleUsage", {
                startDelay: 300,
                speed: 100,
                lifeLike: true,
                waitUntilVisible: true,
                cursor: true
                })
                .move(null, { to: "END" }) 
                .type(` I am ${name}.`)  
                .go();
            }
        }

        function selectPet(pet) 
        {
            const img = document.getElementById("mainimg");
            const speech = document.getElementById("petSpeech");
            const randomQuote = getRandomMessage(pet);

            startTypewriter(pet);

            img.src = `images/${pet}.png`;
            img.style.display = "block";

            speech.textContent = randomQuote;
        speech.style.display = "block";
        }

        startTypewriter("");  

        const petMessages = {
            bob: ["I'm feeling fabulous!", "Let’s roll!", "You rang?", "Catch me if you can!"],
            simmer: ["Stay calm, I’m simmering.", "Just chillin’ like a villain.", "Ready to vibe?", "Don’t touch my tail."],
            steve: ["Steve LE WOAHHHH!", "What’s the mission?", "Do you french, mon ami?", "Let’s boogie!"]
        };

        function getRandomMessage(pet)
        {
            const messages = petMessages[pet];
            return messages[Math.floor(Math.random() * messages.length)];
        }

    </script>
</body>
</html>
